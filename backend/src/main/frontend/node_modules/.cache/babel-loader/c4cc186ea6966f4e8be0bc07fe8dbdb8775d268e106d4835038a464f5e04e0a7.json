{"ast":null,"code":"import React,{useContext}from\"react\";import\"./styles/ShopReask.css\";import{products}from\"./component/ProductList\";import{useParams,useNavigate}from\"react-router-dom\";import ProductItem from\"./component/ProductItem\";import HeaderShop from\"./HeaderShop\";import BottomBar from\"./BottomBar\";import{PointsContext}from\"./PointsContext\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ShopReask(){const{points}=useContext(PointsContext);// 'points'로 가져오기\nconst navigate=useNavigate();const{id}=useParams();const product=products.find(product=>product.id===parseInt(id));const currentPoints=points;// 현재 포인트\nconst remainingPoints=currentPoints-product.points;if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC0C1\\uD488\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"});}const handleBuyClick=()=>{if(remainingPoints<0){navigate(\"/shopbuynot/\".concat(product.id));// 포인트가 부족하면 모달을 엽니다.\n}else{axios.post(\"/api/v1/memberpoint/payment\",{// 요청에 필요한 데이터\nid:\"7chabin@naver.com\",//이 부분을 로그인할 때 가져와야 함\nitem:\"\".concat(product.name,\" \\uAD6C\\uB9E4\"),point:500}).then(response=>{console.log(\"Post 요청 성공:\",response.data);}).catch(error=>{console.error(\"Post 요청 실패:\",error);});navigate(\"/barcode/\".concat(product.id));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-container\",children:[/*#__PURE__*/_jsx(HeaderShop,{}),/*#__PURE__*/_jsx(\"div\",{className:\"point-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"point-text\",children:[\"ddddddd: \",currentPoints]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ProductItem\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-card-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product-card-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product-card-text\",children:product.name})})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-img-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"product-styled-image\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"gift-icon-box\",style:{paddingTop:\"51.73px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"gift-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gift-label-text\",children:\"\\uD604\\uC7AC \\uD3EC\\uC778\\uD2B8\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gift-points\",children:currentPoints})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"gift-icon-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gift-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gift-label-text\",children:\"\\uAE30\\uD504\\uD2F0\\uCF58(CU)\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gift-points\",children:product.points})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"gift-icon-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"green-gift-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gift-label-text\",children:\"\\uB0A8\\uB294 \\uD3EC\\uC778\\uD2B8\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gift-points\",children:remainingPoints})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-dialog\",style:{paddingTop:\"43px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-text\",children:\"\\uC815\\uB9D0\\uB85C \\uAD6C\\uB9E4\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-button-box\",style:{paddingTop:\"0px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"product-button-container\",onClick:handleBuyClick,children:/*#__PURE__*/_jsx(\"div\",{className:\"product-button-text\",children:\"\\uAD6C\\uB9E4\\uD558\\uAE30\"})})})]})}),/*#__PURE__*/_jsx(BottomBar,{})]});}export default ShopReask;","map":{"version":3,"names":["React","useContext","products","useParams","useNavigate","ProductItem","HeaderShop","BottomBar","PointsContext","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ShopReask","points","navigate","id","product","find","parseInt","currentPoints","remainingPoints","children","handleBuyClick","concat","post","item","name","point","then","response","console","log","data","catch","error","className","src","image","alt","style","paddingTop","onClick"],"sources":["/Users/chabin37/Desktop/Project/Senius_24LikeLion_HackerTon/senius/backend/src/main/frontend/src/ShopReask.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport \"./styles/ShopReask.css\";\nimport { products } from \"./component/ProductList\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport ProductItem from \"./component/ProductItem\";\nimport HeaderShop from \"./HeaderShop\";\nimport BottomBar from \"./BottomBar\";\nimport { PointsContext } from \"./PointsContext\";\nimport axios from \"axios\";\n\nfunction ShopReask() {\n  const { points } = useContext(PointsContext); // 'points'로 가져오기\n\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  const product = products.find((product) => product.id === parseInt(id));\n  const currentPoints = points; // 현재 포인트\n  const remainingPoints = currentPoints - product.points;\n\n  if (!product) {\n    return <div>상품을 찾을 수 없습니다.</div>;\n  }\n\n  const handleBuyClick = () => {\n    if (remainingPoints < 0) {\n      navigate(`/shopbuynot/${product.id}`); // 포인트가 부족하면 모달을 엽니다.\n    } else {\n      axios\n          .post(\"/api/v1/memberpoint/payment\", {\n            // 요청에 필요한 데이터\n            id: \"7chabin@naver.com\", //이 부분을 로그인할 때 가져와야 함\n            item: `${product.name} 구매`,\n            point: 500,\n          })\n          .then((response) => {\n            console.log(\"Post 요청 성공:\", response.data);\n          })\n          .catch((error) => {\n            console.error(\"Post 요청 실패:\", error);\n          });\n      navigate(`/barcode/${product.id}`);\n    }\n  };\n\n  return (\n      <>\n        <div className=\"top-container\">\n          <HeaderShop />\n          <div className=\"point-container\">\n            <div className=\"point-text\">ddddddd: {currentPoints}</div>\n          </div>\n        </div>\n\n        <div className=\"screen\">\n          <div className=\"ProductItem\">\n            <div className=\"product-card-box\">\n              <div className=\"product-card-container\">\n                <div className=\"product-card-text\">{product.name}</div>\n              </div>\n            </div>\n\n            <div className=\"product-img-container\">\n              <img\n                  className=\"product-styled-image\"\n                  src={product.image}\n                  alt={product.name}\n              />\n            </div>\n\n            <div className=\"gift-icon-box\" style={{ paddingTop: \"51.73px\" }}>\n              <div className=\"gift-label\">\n                <span className=\"gift-label-text\">현재 포인트</span>\n                <span className=\"gift-points\">{currentPoints}</span>\n              </div>\n            </div>\n\n            <div className=\"gift-icon-box\">\n              <div className=\"gift-label\">\n                <span className=\"gift-label-text\">기프티콘(CU)</span>\n                <span className=\"gift-points\">{product.points}</span>\n              </div>\n            </div>\n\n            <div className=\"gift-icon-box\">\n              <div className=\"green-gift-label\">\n                <span className=\"gift-label-text\">남는 포인트</span>\n                <span className=\"gift-points\">{remainingPoints}</span>\n              </div>\n            </div>\n\n            <div className=\"confirmation-dialog\" style={{ paddingTop: \"43px\" }}>\n              <div className=\"confirmation-text\">정말로 구매하시겠습니까?</div>\n            </div>\n\n            <div className=\"product-button-box\" style={{ paddingTop: \"0px\" }}>\n              <div className=\"product-button-container\" onClick={handleBuyClick}>\n                <div className=\"product-button-text\">구매하기</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <BottomBar />\n      </>\n  );\n}\n\nexport default ShopReask;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}